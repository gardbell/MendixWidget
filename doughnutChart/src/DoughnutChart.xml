<?xml version="1.0" encoding="utf-8"?>
<widget
  id="mendix.doughnutchart.DoughnutChart"
  pluginWidget="true"
  needsEntityContext="false"
  offlineCapable="true"
  supportedPlatform="Web"
  xmlns="http://www.mendix.com/widget/1.0/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <name>Donut Elbow Chart</name>
  <description>Donut chart with top/bottom elbow leader lines and external labels.</description>

  <properties>
    <propertyGroup caption="Data">
      <property key="dataSource" type="datasource" isList="true" required="true">
        <caption>데이터 소스</caption>
        <description>value / label / color를 가진 엔티티 리스트</description>
      </property>
      <property key="valueAttr" type="attribute" dataSource="dataSource" required="true">
        <caption>값 속성</caption>
        <description>숫자형 속성을 선택하세요</description>
        <attributeTypes>
          <attributeType name="Decimal"/>
          <attributeType name="Integer"/>
          <attributeType name="Long"/>
        </attributeTypes>
      </property>
      <property key="labelAttr" type="attribute" dataSource="dataSource" required="true">
        <caption>라벨 속성</caption>
        <description>표시에 사용할 문자열 속성</description>
        <attributeTypes>
          <attributeType name="String"/>
        </attributeTypes>
      </property>
      <property key="colorAttr" type="attribute" dataSource="dataSource" required="true">
        <caption>색상 속성</caption>
        <description>#RRGGBB 또는 rgb() 문자열</description>
        <attributeTypes>
          <attributeType name="String"/>
        </attributeTypes>
      </property>
    </propertyGroup>
    <propertyGroup caption="Layout">
      <property key="width" type="integer" defaultValue="360">
        <caption>너비(px)</caption>
        <description>캔버스 가로 크기</description>
      </property>
      <property key="height" type="integer" defaultValue="360">
        <caption>높이(px)</caption>
        <description>캔버스 세로 크기</description>
      </property>
      <property key="cutoutPct" type="integer" defaultValue="60">
        <caption>도넛 구멍 비율(%)</caption>
        <description>0~95, 기본 60</description>
      </property>
      <property key="doughnutSize" type="decimal" defaultValue="0.7">
        <caption>도넛 크기 비율(%)</caption>
        <description>0~1, 기본 0.7</description>
      </property>
      <property key="lineStart" type="decimal" defaultValue="0.85">
        <caption>라인시작점 비율(%)</caption>
        <description>0~1, 기본 0.85</description>
      </property>
      <property key="rotationDeg" type="integer" defaultValue="-90">
        <caption>시작 각도(도)</caption>
        <description>-90은 12시 방향 시작</description>
      </property>
    </propertyGroup>
    <propertyGroup caption="Labels &amp; Leader lines">
      <property key="centerText" type="string" defaultValue="">
        <caption>중앙 텍스트</caption>
        <description>도넛 중앙에 표시할 문구</description>
      </property>
      <property key="centerTextFontSize" type="integer" defaultValue="16">
        <caption>중앙 텍스트 폰트(px)</caption>
        <description>중앙 문구의 글자 크기</description>
      </property>
      <property key="centerTextFontWeight" type="integer" defaultValue="700">
        <caption>중앙 텍스트 굵기(px)</caption>
        <description>중앙 문구의 글자 긁기</description>
      </property>
      <property key="centerTextFontColor" type="string" defaultValue="#333">
        <caption>중앙 텍스트 색</caption>
        <description>중앙 문구의 글자 색</description>
      </property>
      <property key="showPercent" type="boolean" defaultValue="true">
        <caption>% 표시</caption>
        <description>라벨 끝에 비율을 표시</description>
      </property>
      <property key="fontSize" type="integer" defaultValue="12">
        <caption>라벨 폰트(px)</caption>
        <description>외부 라벨 글자 크기</description>
      </property>
      <property key="minLabelGap" type="integer" defaultValue="8">
        <caption>라벨 최소 간격(px)</caption>
        <description>라벨 간 충돌 방지 간격</description>
      </property>
      <property key="labelWeight" type="integer" defaultValue="500">
        <caption>라벨 굵기</caption>
        <description>라벨 굵기</description>
      </property>
      <property key="labelColor" type="string" defaultValue="#333">
        <caption> 라벨 색</caption>
        <description>라벨 글자 색</description>
      </property>
      <property key="elbowLen" type="integer" defaultValue="24">
        <caption>수평 길이(px)</caption>
        <description>좌/우로 뻗는 수평 구간 길이</description>
      </property>
      <property key="elbowVert" type="integer" defaultValue="12">
        <caption>상/하 수직 길이(px)</caption>
        <description>상/하(12시·6시)에서 처음 내려가거나 올라가는 길이</description>
      </property>
      <property key="topBottomThresholdDeg" type="integer" defaultValue="45">
        <caption>상/하 판정 범위(±도)</caption>
        <description>12시/6시로 간주할 각도 범위</description>
      </property>
    </propertyGroup>
  </properties>
</widget>
