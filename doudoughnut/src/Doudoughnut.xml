<?xml version="1.0" encoding="utf-8"?>
<widget
  id="mendix.doudoughnut.Doudoughnut"
  pluginWidget="true"
  needsEntityContext="false"
  offlineCapable="true"
  supportedPlatform="Web"
  xmlns="http://www.mendix.com/widget/1.0/">

  <name>Doudoughnut Chart (Center Leadline)</name>
  <description>Pure SVG doudoughnut chart with leader lines from slice center.</description>

  <properties>
    <propertyGroup caption="Data">
      <property key="dataSource" type="datasource" required="true" isList="true">
        <caption>Data source</caption>
        <description>List providing items for value/label/color</description>
      </property>
    </propertyGroup>

    <propertyGroup caption="Mapping">
      <property key="valueAttr" type="attribute" required="true" dataSource="dataSource">
        <caption>Value attribute</caption>
        <description>Numeric value per item</description>
        <attributeTypes>
          <attributeType name="Integer"/>
          <attributeType name="Long"/>
          <attributeType name="Decimal"/>
        </attributeTypes>
      </property>

      <property key="labelAttr" type="attribute" required="true" dataSource="dataSource">
        <caption>Label attribute</caption>
        <description>Label text per item</description>
        <attributeTypes>
          <attributeType name="String"/>
        </attributeTypes>
      </property>

      <property key="colorAttr" type="attribute" dataSource="dataSource">
        <caption>Color attribute</caption>
        <description>Color per item (e.g. #4e79a7)</description>
        <attributeTypes>
          <attributeType name="String"/>
        </attributeTypes>
      </property>
    </propertyGroup>

    <propertyGroup caption="Appearance">
  <property key="innerLabel" type="string" defaultValue="">
    <caption>Center Text</caption>
    <description>Text shown in the donut center</description>
  </property>

  <property key="width" type="integer" defaultValue="360">
    <caption>Width (px)</caption>
    <description>Overall SVG width</description>
  </property>

  <property key="height" type="integer" defaultValue="360">
    <caption>Height (px)</caption>
    <description>Overall SVG height (defaults to width)</description>
  </property>

  <property key="outerRadius" type="integer" defaultValue="150">
    <caption>Outer Radius</caption>
    <description>Outer radius of the donut</description>
  </property>

  <property key="thickness" type="integer" defaultValue="40">
    <caption>Donut Thickness</caption>
    <description>Ring thickness (outer minus inner radius)</description>
  </property>

  <property key="lineRadialGap" type="integer" defaultValue="16">
    <caption>Leader radial gap</caption>
    <description>Distance from outer edge to the start of the leader</description>
  </property>

  <property key="lineBendLen" type="integer" defaultValue="24">
    <caption>Leader horizontal length</caption>
    <description>Horizontal segment length of the leader</description>
  </property>

  <property key="lineStroke" type="integer" defaultValue="2">
    <caption>Leader stroke width</caption>
    <description>Stroke width of leader lines</description>
  </property>

  <property key="fontSize" type="integer" defaultValue="14">
    <caption>Label font size</caption>
    <description>Font size for labels</description>
  </property>

  <property key="percentDigits" type="integer" defaultValue="0">
    <caption>Percent digits</caption>
    <description>Decimal places for percentages</description>
  </property>
</propertyGroup>

  </properties>
</widget>
